{# app/templates/recipes/manage_ingredients.html #}

{% extends "base.html" %}

{% block content %}
{# 移除了 <style> 標籤，因為樣式已分離到 main.css #}

<div class="container">
    <h1 class="mb-4">食材管理</h1>

    <div class="d-flex flex-column flex-lg-row gap-4">
        <div id="left-panel" class="col-lg-4 p-3 border rounded shadow-sm panel-min-height">
            <h3 class="mb-3 text-primary">我的自訂食材</h3>
            <input type="search" id="ingredient-search-box" class="form-control mb-3" placeholder="搜尋您的食材...">
            <div id="search-results" class="list-group" style="max-height: calc(70vh - 150px); overflow-y: auto;">
                <p class="text-muted p-2 text-center">請輸入關鍵字搜尋。</p>
            </div>
        </div>

        <div id="center-panel" class="col-lg-5 p-3 border rounded shadow-sm panel-min-height">
            <h3 id="form-title" class="mb-3 text-primary">編輯食材資料</h3>
            <form id="ingredient-form" novalidate onsubmit="return false;">
                <p class="alert alert-info text-center"><i>請從左側列表選擇一個食材來編輯，或點擊右側的「新增」按鈕。</i></p>
            </form>
        </div>

        <div id="right-panel" class="col-lg-3 p-3 border rounded shadow-sm panel-min-height d-flex flex-column">
            <h3 class="mb-3 text-primary">操作</h3>
            <button id="new-btn" class="btn btn-success mb-2">
                <i class="bi bi-plus-lg me-2"></i>新增食材
            </button>
            <button id="save-btn" class="btn btn-primary mb-2" disabled>
                <span id="save-button-text"><i class="bi bi-save me-2"></i>儲存修改</span>
                <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true" id="save-spinner"></span>
            </button>
            <button id="delete-btn" class="btn btn-danger mb-2" disabled>
                <span id="delete-button-text"><i class="bi bi-trash me-2"></i>刪除食材</span>
                <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true" id="delete-spinner"></span>
            </button>
            <button id="cancel-btn" class="btn btn-secondary mb-2" disabled>
                <i class="bi bi-x-lg me-2"></i>取消操作
            </button>
        </div>
    </div>
</div>

{% block scripts %}
<script src="{{ url_for('static', filename='js/manage_ingredients.js') }}"></script>
{% endblock scripts %}
{% endblock %}